<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Detection of Trancription start sites based on local enrichment — detectTSS • icetea</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Detection of Trancription start sites based on local enrichment — detectTSS" />

<meta property="og:description" content="Detection of Trancription start sites based on local enrichment" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">icetea</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/mapcap_analysis.html">Analysing transcript 5'-profiling data using icetea</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/vivekbhr/icetea">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Detection of Trancription start sites based on local enrichment</h1>
    <small>Source: <a href='https://github.com/vivekbhr/icetea/blob/master/R/AllGenerics.R'><code>R/AllGenerics.R</code></a>, <a href='https://github.com/vivekbhr/icetea/blob/master/R/detect_TSS.R'><code>R/detect_TSS.R</code></a></small>
    <div class="hidden name"><code>detectTSS.Rd</code></div>
    </div>

    
    <p>Detection of Trancription start sites based on local enrichment</p>
    

    <pre class="usage"><span class='fu'>detectTSS</span>(<span class='no'>CSobject</span>, <span class='no'>groups</span>, <span class='kw'>outfile_prefix</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>windowSize</span> <span class='kw'>=</span> <span class='fl'>10L</span>,
  <span class='kw'>sliding</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>foldChange</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>restrictChr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ncores</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='co'># S4 method for CapSet</span>
<span class='fu'>detectTSS</span>(<span class='no'>CSobject</span>, <span class='no'>groups</span>, <span class='kw'>outfile_prefix</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>windowSize</span> <span class='kw'>=</span> <span class='fl'>10L</span>, <span class='kw'>sliding</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>foldChange</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>restrictChr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ncores</span> <span class='kw'>=</span> <span class='fl'>1</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>CSobject</th>
      <td><p>CapSet object created using <code><a href='newCapSet.html'>newCapSet</a></code> function</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>a character vector that contains group name of the sample, for replicate-based TSS
calling (see example)</p></td>
    </tr>
    <tr>
      <th>outfile_prefix</th>
      <td><p>Output name prefix for the .Rdata file containing window counts, background counts
and filtering statistics calculated during TSS detection.</p></td>
    </tr>
    <tr>
      <th>windowSize</th>
      <td><p>Size of the window to bin the genome for TSS detection. By default, a window size of
10 is used for binning the genome, however smaller window sizes can optionally be provided
for higher resolution TSS detection. Note that the background size is set to 200x the
window size (2kb for 10bp windows) to calculate local enrichment. Adjacent enriched windows
are merged with a distance cutoff, which is the same as window size to get final TSS widths.</p></td>
    </tr>
    <tr>
      <th>sliding</th>
      <td><p>TRUE/FALSE. Indicating whether or not to use sliding windows. The windows are shifted by length which
is half of the specified window length.</p></td>
    </tr>
    <tr>
      <th>foldChange</th>
      <td><p>A fold change cutoff of local enrichment to detect the TSS. For samples with
usual' amount of starting material and squencing depth (&gt;=5ug starting material,
= 5 mil reads/sample), a cut-off of 6 fold can be used. For samples with low
amount of material or sequencing depth, use a lower cut-off (eg. use 2-fold for
samples with 500ng starting material).</p></td>
    </tr>
    <tr>
      <th>restrictChr</th>
      <td><p>Chromosomes to restrict the analysis to.</p></td>
    </tr>
    <tr>
      <th>ncores</th>
      <td><p>No. of cores/threads to use</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>.bed files containing TSS position for each group, along with a bed file for consensus
       (union) TSS sites of all samples.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># before running this</span>
<span class='co'># 1. Create a CapSet object</span>
<span class='co'># 2. de-multiplex the fastqs</span>
<span class='co'># 3. map them</span>
<span class='co'># 4. filter duplicate reads from mapped BAM</span>

<span class='co'># load a previously saved CapSet object</span>
<span class='no'>cs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='exampleCSobject.html'>exampleCSobject</a></span>()</div><div class='output co'>#&gt; <span class='message'>Checking de-multiplexed R1 reads</span></div><div class='output co'>#&gt; <span class='message'>Checking de-multiplexed R2 reads</span></div><div class='output co'>#&gt; <span class='message'>Checking mapped file</span></div><div class='output co'>#&gt; <span class='message'>Checking de-duplicated file</span></div><div class='input'><span class='co'># detect TSS (samples in same group are treated as replicates)</span>
<span class='no'>cs</span> <span class='kw'>&lt;-</span> <span class='fu'>detectTSS</span>(<span class='no'>cs</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='fu'>rep</span>(<span class='fu'>c</span>(<span class='st'>"wt"</span>,<span class='st'>"mut"</span>), <span class='kw'>each</span> <span class='kw'>=</span> <span class='fl'>2</span>), <span class='kw'>outfile_prefix</span> <span class='kw'>=</span> <span class='st'>"testTSS"</span>,
           <span class='kw'>foldChange</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>restrictChr</span> <span class='kw'>=</span> <span class='st'>"X"</span>, <span class='kw'>ncores</span> <span class='kw'>=</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt; <span class='message'>Counting reads within detected TSS</span></div><div class='output co'>#&gt; <span class='message'>Writing filtering information as .Rdata</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Vivek Bhardwaj.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

